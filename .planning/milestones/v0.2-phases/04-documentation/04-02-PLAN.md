---
phase: 04-documentation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified: [docs/sonner-toast-brief.md]
autonomous: true
requirements: [DOCS-04]

must_haves:
  truths:
    - "Sonner/Toast brief provides enough detail for a platform developer to add toast support to @madebykav/ui without further research"
    - "Brief includes the themed Toaster wrapper component code with CSS variable integration"
    - "Brief specifies the complete toast() API surface to expose (default, success, error, info, warning, loading, promise, dismiss)"
    - "Brief recommends sonner as a dependency of @madebykav/ui (not a peer dep)"
  artifacts:
    - path: "docs/sonner-toast-brief.md"
      provides: "SDK addition specification for platform team to add Sonner toast to @madebykav/ui"
      contains: "Toaster"
  key_links:
    - from: "docs/sonner-toast-brief.md"
      to: "UI-COMPONENT-GAPS.md"
      via: "wrapper code sourced from component gap analysis"
      pattern: "sonner"
---

<objective>
Create a Sonner/Toast specification brief for the platform SDK team to add toast notifications to @madebykav/ui.

Purpose: Every app on the platform needs toast notifications. Having each app maintain its own Sonner wrapper is duplication. This brief gives the platform team everything needed to add Toaster + toast to the shared UI SDK.

Output: docs/sonner-toast-brief.md specification document.
</objective>

<execution_context>
@/Users/kavinda/.claude/get-shit-done/workflows/execute-plan.md
@/Users/kavinda/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-documentation/04-RESEARCH.md

# Source material:
@UI-COMPONENT-GAPS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Sonner/Toast specification brief for @madebykav/ui SDK</name>
  <files>docs/sonner-toast-brief.md</files>
  <action>
  Create `docs/sonner-toast-brief.md` as a self-contained specification document for the platform SDK team. First ensure the `docs/` directory exists (create if not).

  **Required sections:**

  1. **Header** -- Title: "@madebykav/ui -- Sonner/Toast Addition Request". Date, from (app template), status (requested).

  2. **Summary** -- One paragraph: 16/17 component families already in @madebykav/ui. Toast/Sonner is the only missing universal component. Every platform app needs toast notifications for user feedback after server actions.

  3. **Component Requested** -- Toaster component (wrapper around sonner library) + re-exported toast imperative API.

  4. **Why Platform-Wide** -- Not app-specific. Every app needs toast for save/delete/generate/export feedback. Without SDK support, each app maintains its own sonner wrapper. Centralizing ensures consistent theming and reduces duplication.

  5. **Recommended Implementation** -- Include the complete Toaster wrapper code from UI-COMPONENT-GAPS.md:
     ```tsx
     "use client";

     import { Toaster as Sonner, type ToasterProps } from "sonner";

     const Toaster = ({ ...props }: ToasterProps) => {
       return (
         <Sonner
           theme="light"
           className="toaster group"
           style={{
             "--normal-bg": "var(--color-background)",
             "--normal-text": "var(--color-foreground)",
             "--normal-border": "var(--color-border)",
           } as React.CSSProperties}
           {...props}
         />
       );
     };

     export { Toaster };
     ```

  6. **CSS Variable Integration** -- Explain the 3 CSS variable mappings:
     - `--normal-bg` -> `var(--color-background)` (platform background token)
     - `--normal-text` -> `var(--color-foreground)` (platform text token)
     - `--normal-border` -> `var(--color-border)` (platform border token)
     This ensures toasts match the platform theme without additional configuration.

  7. **Toaster Component Props** -- Key props to expose (table format):
     | Prop | Type | Default | Notes |
     | theme | 'light' | 'dark' | 'system' | 'light' | Platform uses light; expose for future dark mode |
     | position | string | 'bottom-right' | Let apps choose position |
     | richColors | boolean | false | Recommend true for better UX |
     | closeButton | boolean | false | Let apps opt-in |
     | duration | number | 4000 | Reasonable default |
     | expand | boolean | false | Keep default |

  8. **toast() API Surface** -- Table of functions to expose via re-export:
     | Function | Purpose |
     | toast(message) | Default notification |
     | toast.success(message) | Success with checkmark icon |
     | toast.error(message) | Error with icon |
     | toast.info(message) | Info notification |
     | toast.warning(message) | Warning notification |
     | toast.loading(message) | Loading spinner |
     | toast.promise(promise, opts) | Auto-updates on resolve/reject |
     | toast.dismiss(id?) | Dismiss specific or all toasts |

  9. **Recommended Export Surface** -- From @madebykav/ui:
     - `Toaster` component (themed wrapper)
     - `toast` function (re-exported from sonner -- the imperative API)
     App usage pattern:
     ```tsx
     // In root layout:
     import { Toaster } from '@madebykav/ui'
     <Toaster />

     // In components/actions:
     import { toast } from '@madebykav/ui'
     toast.success('Item saved')
     ```

  10. **Dependency** -- Add `sonner` as a direct dependency of @madebykav/ui (NOT a peer dependency). Apps should not need to install sonner separately.

  11. **Integration Pattern** -- Show where `<Toaster />` goes in the app layout:
      ```tsx
      // src/app/layout.tsx
      import { Toaster } from '@madebykav/ui'

      export default function RootLayout({ children }) {
        return (
          <html lang="en">
            <body>
              {children}
              <Toaster />
            </body>
          </html>
        )
      }
      ```
  </action>
  <verify>
  Read the written docs/sonner-toast-brief.md and verify:
  1. Contains the complete Toaster wrapper code with CSS variable mappings
  2. Lists all 8 toast() API functions (toast, success, error, info, warning, loading, promise, dismiss)
  3. Specifies sonner as dependency (not peer dep)
  4. Includes the layout integration example with <Toaster />
  5. Includes the Toaster props table with at least 5 props
  </verify>
  <done>
  docs/sonner-toast-brief.md is a self-contained spec with wrapper code, CSS variables, Toaster props, toast() API surface, export recommendations, dependency guidance, and layout integration example. A platform developer can implement from this brief alone.
  </done>
</task>

</tasks>

<verification>
1. docs/sonner-toast-brief.md exists and is readable
2. Contains complete Toaster wrapper code with all 3 CSS variable mappings
3. Lists toast() API surface with all 8 function variants
4. Specifies sonner as direct dependency of @madebykav/ui
5. Includes recommended export surface (Toaster + toast from @madebykav/ui)
6. Includes layout integration example
</verification>

<success_criteria>
A platform SDK developer can read docs/sonner-toast-brief.md and implement Sonner toast support in @madebykav/ui without any further research or clarification. The brief includes wrapper code, API surface, dependency guidance, and integration pattern.
</success_criteria>

<output>
After completion, create `.planning/phases/04-documentation/04-02-SUMMARY.md`
</output>
